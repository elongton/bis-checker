<div class="log-container">
  <h1>Gear <a routerLink="/">C</a>hange Logs</h1>

  <div class="filters">
    <label>
      Start Date:
      <input type="date" [(ngModel)]="startDate">
    </label>
    <label>
      End Date:
      <input type="date" [(ngModel)]="endDate">
    </label>
    <label>
      Search:
      <input type="text" [(ngModel)]="username" placeholder="Search username">
    </label>
    <button (click)="applyUsernameFilter()">Apply</button>
  </div>

  <div *ngFor="let log of logs" class="log-entry">
    <p><strong>{{ log.timestamp }}</strong> — <em>{{ log.username }}</em></p>
    <ul>
      <li *ngFor="let change of log.changes">
        {{ change.path }}: <code>{{ change.before | json }}</code> → <code>{{ change.after | json }}</code>
      </li>
    </ul>
  </div>

  <div class="pagination">
    <button (click)="onPageChange(page - 1)" [disabled]="page <= 1">Previous</button>
    Page {{ page }} of {{ totalLogs / limit | ceil }}
    <button (click)="onPageChange(page + 1)" [disabled]="page * limit >= totalLogs">Next</button>
  </div>
</div>
